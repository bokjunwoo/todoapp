<!doctype html>
<html lang="ko">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body>

    <%- include('nav.html') %>

    <h4 class="container mt-4"><strong>회원가입페이지</strong></h4>

    <div class="container mt-3">
      <form action="/signup" method="POST">
        <div class="form-group">
          <label>아이디</label>
          <div class="input-group mb-3">
            <input type="text" id="user_id" class="form-control" name="id" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="button-addon2">
            <div class="input-group-append">
              <button id="id_btn">검사</button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>패스워드</label>
          <input type="text" class="form-control" name="pw">
        </div>
        <button type="submit" class="btn btn-danger sub_btn">Submit</button>
      </form>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    
    <script>
      $('#id_btn').click(function(){
        const userId =  $("#user_id").val();

        if(userId === '') {
          alert('입력바람')
        }
        
        // $.ajax({
        //         method: 'POST',
        //         url: '/',
        //         // data: { _id: 지금내가 클릭한 버튼의 id를 여기에 넣기 },
        //         data: { id: userId },
        //         dataType: "text",
                
        //         success: function(data){
        //           if(data === '중복된 아이디'){
        //             alert(data)
        //           } else {
        //             alert('사용가능')
        //           }
        //         },
        //         fail:function(){
        //           alert('에러')
        //         }
        //     })

          //   $.ajax({
          //   method:"POST",                                           
          //   url:"/duplicateId",
          //   data: {
          //     id: inputId
          //   },
          //   dataType: "text",
          //   success: function(serverdata){
          //     if(serverdata==="중복된 아이디입니다."){
          //       $("input").eq(0).val("");
          //       alert(serverdata);
          //     } else {
          //       alert("사용 가능한 아이디입니다.");
          //       duplicateComplete1 = true;
          //     }
          //   },
          //   fail:function(){
          //     alert("에러");
          //   }
          // })
      })
    </script>
  </body>
</html>